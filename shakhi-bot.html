<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shakhi GPT</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #e3f2fd;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 400px;
    }

    .chat-container {
      background: #fff;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 600px;
      display: flex;
      flex-direction: column;
      max-height: 420px;
    }

    h2 {
      text-align: center;
      color: #1565c0;
      margin-bottom: 15px;
    }

    .chat-box {
      flex-grow: 1;
      overflow-y: auto;
      max-height: 450px;
      margin-bottom: 15px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .message {
      max-width: 75%;
      padding: 12px 16px;
      border-radius: 16px;
      line-height: 1.5;
      word-wrap: break-word;
      display: inline-block;
    }

    .user-msg {
      align-self: flex-end;
      background-color: #c8e6c9;
      color: #1b5e20;
      border-bottom-right-radius: 0;
    }

    .bot-msg {
      align-self: flex-start;
      background-color: #f1f8e9;
      color: #33691e;
      border-bottom-left-radius: 0;
      border-left: 5px solid #81c784;
    }

    .typing {
      font-style: italic;
      color: #777;
      font-size: 14px;
      align-self: flex-start;
      margin-left: 10px;
    }

    .input-group {
      display: flex;
      gap: 10px;
    }

    input[type="text"] {
      flex-grow: 1;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #90caf9;
      font-size: 16px;
    }

    button {
      padding: 12px 20px;
      background-color: #1565c0;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #0d47a1;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <h2>Shakhi GPT</h2>
    <div class="chat-box" id="chatBox"></div>

    <div class="input-group">
      <input type="text" id="questionInput" placeholder="Ask your question about the Gita..." />
      <button id="askButton">Ask</button>
    </div>
  </div>

  <script>
    const knowledgeBase = [
      { keywords: ["karma", "action", "duty", "work"], answer: "Krishna emphasizes selfless action without attachment to results. This is the essence of Karma Yoga." },
      { keywords: ["bhakti", "devotion", "love", "worship"], answer: "Bhakti Yoga is the path of loving devotion. Through wholehearted love for God, one attains liberation." },
      { keywords: ["jnana", "knowledge", "wisdom", "discrimination"], answer: "Jnana Yoga is the path of knowledge — realizing the difference between the eternal soul and the temporary body." },
      { keywords: ["raja", "meditation", "mind", "dhyana"], answer: "Raja Yoga focuses on meditation and control of the mind to realize the Self." },
      { keywords: ["soul", "atman", "self", "spirit"], answer: "The soul is eternal, never born and never dies. It is untouched by death or destruction." },
      { keywords: ["death", "rebirth", "reincarnation", "cycle"], answer: "Just as we change clothes, the soul leaves one body and takes another. This cycle continues until liberation." },
      { keywords: ["lust", "desire", "passion", "greed"], answer: "Lust is the root of anger and delusion. It is born of passion and must be overcome for spiritual growth. (Gita 3.37)" },
      { keywords: ["anger", "wrath", "rage"], answer: "Anger arises from unfulfilled desire and leads to delusion and loss of reason. It must be controlled." },
      { keywords: ["greed", "attachment", "possessiveness"], answer: "Greed leads to bondage. Renunciation and moderation bring inner peace. (Gita 16.21)" },
      { keywords: ["dharma", "responsibility", "righteousness"], answer: "One must follow their dharma — their duty — without fear or selfish motives." },
      { keywords: ["detachment", "renunciation", "vairagya"], answer: "True detachment means performing duties without becoming emotionally entangled in outcomes." },
      { keywords: ["fear", "worry", "stress", "anxiety"], answer: "Krishna says rise above fear through devotion and understanding your eternal nature." },
      { keywords: ["ego", "pride", "arrogance"], answer: "Ego blinds us to the truth. Surrender and humility open the door to wisdom." },
      { keywords: ["yoga", "union", "balance", "spiritual path"], answer: "Yoga is union with the Divine through discipline of mind, body, and soul." },
      { keywords: ["food", "eating", "diet"], answer: "The Gita describes three types of food: sattvic (pure), rajasic (stimulating), and tamasic (impure). Choose sattvic for clarity." },
      { keywords: ["maya", "illusion", "world", "temporary"], answer: "The material world is temporary and illusory. Only the soul and God are eternal." },
      { keywords: ["surrender", "faith", "trust"], answer: "Surrender fully to the Divine. Krishna promises to protect and uplift those who surrender with faith. (Gita 18.66)" },
      { keywords: ["moksha", "liberation", "freedom", "salvation"], answer: "Moksha is liberation from the cycle of birth and death. It is attained through wisdom, devotion, and detachment." },
      { keywords: ["betu"], answer: "Betu is Yashaswi, bubua hai woh bhi chotu waala." }
  {
    keywords: ["fear", "afraid", "scared"],
    answer: "Chapter 2, Shloka 40
In this endeavor there is no loss or diminution, and a little advancement on this path can protect one from the most dangerous type of fear.
Interpretation: Even a small step in righteousness dispels great fear."
  },
  {
    keywords: ["anger", "angry", "rage"],
    answer: "Chapter 2, Shloka 63
From anger, complete delusion arises, and from delusion bewilderment of memory. When memory is bewildered, intelligence is lost.
Interpretation: Anger clouds judgment and destroys wisdom."
  },
  {
    keywords: ["confusion", "confused", "dilemma"],
    answer: "Chapter 4, Shloka 34
Learn the truth by approaching a spiritual master... The self-realized souls can impart knowledge unto you because they have seen the truth.
Interpretation: Seek guidance from the wise to remove confusion."
  },
  {
    keywords: ["attachment", "obsession", "cling"],
    answer: "Chapter 3, Shloka 9
"Work done as a sacrifice for Vishnu has to be performed, otherwise work binds one to this material world."
Interpretation: Detachment through selfless action is the key to freedom."
  },
  {
    keywords: ["doubt", "uncertainty", "suspicion"],
    answer: "Chapter 4, Shloka 40
For the doubting soul there is happiness neither in this world nor in the next.
Interpretation: Doubt paralyzes action and steals joy."
  },
  {
    keywords: ["grief", "sadness", "mourning"],
    answer: "Chapter 2, Shloka 13
Just as the boyhood, youth and old age come... the wise man is not deluded at that."
Interpretation: Life is a cycle of changes. Don’t grieve for the inevitable."
  },
  {
    keywords: ["ego", "pride", "arrogance"],
    answer: "Chapter 3, Shloka 27
The bewildered spirit soul... thinks himself to be the doer."
Interpretation: Ego is an illusion. You are not the doer."
  },
  {
    keywords: ["lust", "desire", "craving"],
    answer: "Chapter 3, Shloka 39
Thus the wise living entity’s pure consciousness becomes covered by his eternal enemy in the form of lust, which is never satisfied and burns like fire."
Interpretation: Lust is insatiable and destructive."
  },
  {
    keywords: ["success", "achievement", "victory"],
    answer: "Chapter 2, Shloka 47
You have a right to perform your prescribed duty, but you are not entitled to the fruits of action."
Interpretation: Do your duty without worrying about success."
  },
  {
    keywords: ["failure", "defeat", "loss"],
    answer: "Chapter 6, Shloka 40
A transcendentalist engaged in auspicious activities does not meet with destruction; one who does good is never overcome by evil."
Interpretation: Righteous efforts never go in vain."
  },
  {
    keywords: ["depression", "sadness", "melancholy"],
    answer: "Chapter 18, Shloka 37
That which seems like poison at first but ends as nectar... is happiness in the mode of goodness."
Interpretation: Discipline leads to lasting joy, not instant gratification."
  },
  {
    keywords: ["jealousy", "envy", "resentment"],
    answer: "Chapter 16, Shloka 18
Bewildered by ego, strength, pride, lust and anger, the demoniac become envious of the Supreme and blaspheme religion."
Interpretation: Envy is rooted in ignorance."
  },
  {
    keywords: ["greed", "avarice", "covetousness"],
    answer: "Chapter 16, Shloka 21
There are three gates to hell—lust, anger and greed. Every sane man should give these up."
Interpretation: Greed is one of the gates to ruin."
  },
  {
    keywords: ["patience", "tolerance", "endurance"],
    answer: "Chapter 6, Shloka 7
One who has conquered the mind is peaceful in cold and heat, pleasure and pain, and honor and dishonor."
Interpretation: Patience arises from mastery over the mind."
  },
  {
    keywords: ["duty", "responsibility", "obligation"],
    answer: "Chapter 18, Shloka 47
"It is better to fail in your own duty than to succeed in the duty of another."
Interpretation: Follow your true path, even if difficult."
  },
  {
    keywords: ["detachment", "non-attachment", "renunciation"],
    answer: "Chapter 5, Shloka 10
One who performs duty without attachment, surrendering results to the Supreme, is not affected by sinful action."
Interpretation: Act without attachment to outcomes."
  },
  {
    keywords: ["mind control", "self-control", "discipline"],
    answer: "Chapter 6, Shloka 6
For one who has conquered the mind, the mind is the best friend; for one who has failed, it is the worst enemy."
Interpretation: Your mind is your best friend or worst enemy."
  },
  {
    keywords: ["faith", "belief", "trust"],
    answer: "Chapter 17, Shloka 3
"The faith of each is according to their nature. A man is made of his faith; whatever he believes in, he is."
Interpretation: Faith defines your identity."
  },
  {
    keywords: ["violence", "war", "battle"],
    answer: "Chapter 2, Shloka 31
Considering your dharma, you should not waver. For a warrior, there is nothing more honorable than a war against evil."
Interpretation: Fighting evil as a duty is righteousness, not violence."
  },
  {
    keywords: ["change", "impermanence", "transience"],
    answer: "Chapter 2, Shloka 14
O son of Kunti, the nonpermanent appearance of happiness and distress... are like the appearance and disappearance of winter and summer seasons."
Interpretation: Accept change with equanimity."
  }
];

    const askButton = document.getElementById('askButton');
    const questionInput = document.getElementById('questionInput');
    const chatBox = document.getElementById('chatBox');

    function addMessage(text, type) {
      const message = document.createElement('div');
      message.classList.add('message');
      message.classList.add(type === 'user' ? 'user-msg' : 'bot-msg');
      message.textContent = text;
      chatBox.appendChild(message);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    askButton.addEventListener('click', () => {
      const userText = questionInput.value.trim().toLowerCase();
      if (!userText) return;

      addMessage(userText, 'user');
      questionInput.value = "";

      const typing = document.createElement('div');
      typing.classList.add('typing');
      typing.textContent = "Shakhi is thinking...";
      chatBox.appendChild(typing);
      chatBox.scrollTop = chatBox.scrollHeight;

      setTimeout(() => {
        typing.remove();

        let found = "I'm sorry, I couldn't find an answer to your question in the Gita knowledge base.";
        for (const item of knowledgeBase) {
          if (item.keywords.some(k => userText.includes(k))) {
            found = item.answer;
            break;
          }
        }

        addMessage(found, 'bot');
      }, 3000);
    });

    // Allow Enter key to work too
    questionInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        askButton.click();
      }
    });
  </script>
</body>
</html>
